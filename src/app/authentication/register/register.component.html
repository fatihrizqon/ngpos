<section
  class="animate__animated animate__slideInRight"
  style="background-color: teal"
>
  <div
    class="row align-items-center justify-content-center"
    style="height: 100vh"
    *ngIf="!spinner"
  >
    <div class="col-12" style="width: 400px">
      <mat-card class="register-card">
        <div class="text-center">
          <img
            src="https://cdn-icons-png.flaticon.com/512/3028/3028956.png"
            alt=""
            width="40"
            matTooltip="Point of Sale System"
          />
        </div>

        <form [formGroup]="registerForm" class="mt-3">
          <mat-form-field appearance="outline">
            <mat-label>Enter your name</mat-label>
            <input matInput formControlName="name" minlength="6" />
            <mat-error
              *ngIf="
                registerForm.get('name')?.touched &&
                registerForm.get('name')?.errors
              "
            >
              This field is required (minimum 6 characters).
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Enter your username</mat-label>
            <input matInput formControlName="username" minlength="6" />
            <mat-error
              *ngIf="
                registerForm.get('username')?.touched &&
                registerForm.get('username')?.errors
              "
            >
              This field is required (minimum 6 characters).
            </mat-error>
          </mat-form-field>

          <div>
            <mat-label class="align-self-start">Select your gender:</mat-label>
            <mat-radio-group
              class="gender-radio-group"
              formControlName="gender"
            >
              <mat-radio-button
                class="gender-radio-button"
                color="primary"
                *ngFor="let gender of genders"
                [value]="gender"
              >
                {{ gender }}
              </mat-radio-button>
            </mat-radio-group>
            <mat-error
              *ngIf="
                registerForm.get('gender')?.touched &&
                registerForm.get('gender')?.errors
              "
            >
              This option is required.
            </mat-error>
          </div>

          <!-- Needs -->
          <mat-form-field appearance="outline">
            <mat-label>Enter your email</mat-label>
            <input matInput type="email" formControlName="email" />

            <mat-error
              *ngIf="
                registerForm.get('email')?.touched &&
                registerForm.get('email')?.errors
              "
            >
              This field is required.
            </mat-error>
          </mat-form-field>

          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>Enter your password</mat-label>
                <input
                  matInput
                  [type]="hidePassword ? 'password' : 'text'"
                  formControlName="password"
                  minlength="6"
                />
                <button
                  mat-icon-button
                  matSuffix
                  (click)="hidePassword = !hidePassword"
                  [attr.aria-label]="'Hide password'"
                  [attr.aria-pressed]="hidePassword"
                >
                  <i
                    class="bx bx-{{ hidePassword ? 'hide' : 'show' }} bx-sm"
                  ></i>
                </button>
              </mat-form-field>
              <mat-error
                *ngIf="
                  registerForm.get('password')?.touched &&
                  registerForm.get('password')?.errors
                "
              >
                This field is required.
              </mat-error>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>Repeat your password</mat-label>
                <input
                  matInput
                  [type]="hideRepassword ? 'password' : 'text'"
                  formControlName="repassword"
                  minlength="6"
                />
                <button
                  mat-icon-button
                  matSuffix
                  (click)="hideRepassword = !hideRepassword"
                  [attr.aria-label]="'Hide repeat password'"
                  [attr.aria-pressed]="hideRepassword"
                >
                  <i
                    class="bx bx-{{ hideRepassword ? 'hide' : 'show' }} bx-sm"
                  ></i>
                </button>
              </mat-form-field>
              <mat-error
                *ngIf="
                  registerForm.get('repassword')?.touched &&
                  registerForm.get('repassword')?.errors
                "
              >
                This field is required.
              </mat-error>
            </div>
          </div>

          <div class="col-12">
            <mat-form-field appearance="outline">
              <mat-label>Enter your phone</mat-label>
              <input matInput type="number" formControlName="phone" />
            </mat-form-field>
          </div>

          <div class="d-flex justify-content-between align-items-center">
            <a class="me-3" routerLink="/login">Already have an Account?</a>
            <button
              (click)="register()"
              mat-button
              color="primary"
              [disabled]="!registerForm.valid"
            >
              Register
            </button>
          </div>
        </form>
      </mat-card>
    </div>
  </div>

  <div class="row align-items-center" *ngIf="spinner" style="height: 100vh">
    <div class="col-12">
      <mat-spinner
        color="accent"
        [diameter]="50"
        [strokeWidth]="3"
        mode="indeterminate"
        style="margin: 0 auto"
      ></mat-spinner>
    </div>
  </div>
</section>
